{"remainingRequest":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/babel-loader/lib/index.js!/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/src/store/index.js","dependencies":[{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/src/store/index.js","mtime":1641487805067},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/babel.config.js","mtime":1641298031863},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2RhdmlkL0RvY3VtZW50b3MvRm9ybWFjaW9uL1VkZW15L1ZVRS5KUy9wcm9qZWN0L3Z1ZXBvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgdmF4aW9zIGZyb20gJy4uL3BsdWdpbnMvdmF4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHVzZXI6ICcnLAogICAgbG9nZ2VkOiBmYWxzZSwKICAgIHRva2VuOiAnJwogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIGlmIChwYXlsb2FkICE9PSAnJykgewogICAgICAgIGNvbnNvbGUubG9nKCdzZXRVU2VyOiAnLCBwYXlsb2FkKTsKICAgICAgICBzdGF0ZS51c2VyID0gcGF5bG9hZDsKICAgICAgICBzdGF0ZS50b2tlbiA9IHBheWxvYWQudG9rZW47CiAgICAgICAgc3RhdGUubG9nZ2VkID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS51c2VyID0gJyc7CiAgICAgICAgc3RhdGUudG9rZW4gPSAnJzsKICAgICAgICBzdGF0ZS5sb2dnZWQgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9nSW46IGZ1bmN0aW9uIGxvZ0luKF9yZWYsIHVzZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXMsIHVzZXJMb2dnZWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHZheGlvcy5wb3N0KCcvdXNlcnMvbG9naW4nLCB7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgdXNlckxvZ2dlZCA9IHJlcy5kYXRhLnVzZXI7CiAgICAgICAgICAgICAgICB1c2VyTG9nZ2VkLnRva2VuID0gcmVzLnRva2VuOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyJywgdXNlckxvZ2dlZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0VSUk9SXSAtIGxvZ0luOiAnICsgX2NvbnRleHQudDAubWVzc2FnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dPdXQ6IGZ1bmN0aW9uIGxvZ091dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb25zb2xlLmxvZygnTG9nT3V0IGFjdGlvbiBjYWxsZWQnKTsKICAgICAgY29tbWl0KCdzZXRVc2VyJywgJycpOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/src/store/index.js"],"names":["Vue","Vuex","vaxios","router","use","Store","state","user","logged","token","mutations","setUser","payload","console","log","actions","logIn","commit","post","email","password","res","userLogged","data","message","logOut","modules"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,EADD;AAELC,IAAAA,MAAM,EAAE,KAFH;AAGLC,IAAAA,KAAK,EAAE;AAHF,GADqB;AAM5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,OADS,mBACDL,KADC,EACMM,OADN,EACe;AAEtB,UAAIA,OAAO,KAAK,EAAhB,EAAoB;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,OAAzB;AACAN,QAAAA,KAAK,CAACC,IAAN,GAAaK,OAAb;AACAN,QAAAA,KAAK,CAACG,KAAN,GAAcG,OAAO,CAACH,KAAtB;AACAH,QAAAA,KAAK,CAACE,MAAN,GAAe,IAAf;AACD,OALD,MAKO;AACLF,QAAAA,KAAK,CAACC,IAAN,GAAa,EAAb;AACAD,QAAAA,KAAK,CAACG,KAAN,GAAc,EAAd;AACAH,QAAAA,KAAK,CAACE,MAAN,GAAe,KAAf;AACD;AACF;AAbQ,GANiB;AAqB5BO,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,uBACiBT,IADjB,EACuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAhBU,gBAAAA,MAAgB,QAAhBA,MAAgB;AAAA;AAAA;AAAA,uBAERf,MAAM,CAACgB,IAAP,CAAY,cAAZ,EAA4B;AAC5CC,kBAAAA,KAAK,EAAEZ,IAAI,CAACY,KADgC;AAE5CC,kBAAAA,QAAQ,EAAEb,IAAI,CAACa;AAF6B,iBAA5B,CAFQ;;AAAA;AAEpBC,gBAAAA,GAFoB;AAM1BR,gBAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACIC,gBAAAA,UAPsB,GAOTD,GAAG,CAACE,IAAJ,CAAShB,IAPA;AAQ1Be,gBAAAA,UAAU,CAACb,KAAX,GAAmBY,GAAG,CAACZ,KAAvB;AACAQ,gBAAAA,MAAM,CAAC,SAAD,EAAYK,UAAZ,CAAN;AAT0B;AAAA;;AAAA;AAAA;AAAA;AAW1BT,gBAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsB,YAAEU,OAApC;;AAX0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAa7B,KAdM;AAgBPC,IAAAA,MAhBO,yBAgBY;AAAA,UAAVR,MAAU,SAAVA,MAAU;AACjBJ,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAG,MAAAA,MAAM,CAAC,SAAD,EAAY,EAAZ,CAAN;AACD;AAnBM,GArBmB;AA0C5BS,EAAAA,OAAO,EAAE;AA1CmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport vaxios from '../plugins/vaxios';\nimport router from '../router/index';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    user: '',\n    logged: false,\n    token: ''\n  },\n  mutations: {\n    setUser(state, payload) {\n      \n      if (payload !== '') {\n        console.log('setUSer: ', payload);\n        state.user = payload;\n        state.token = payload.token;\n        state.logged = true;\n      } else {\n        state.user = '';\n        state.token = '';\n        state.logged = false;\n      }\n    },\n  },\n  actions: {\n    async logIn({ commit }, user) {\n      try {\n        const res = await vaxios.post('/users/login', {\n          email: user.email,\n          password: user.password,\n        });\n        console.log(res);\n        let userLogged = res.data.user;\n        userLogged.token = res.token;\n        commit('setUser', userLogged);\n      } catch (e) {\n        console.log('[ERROR] - logIn: ' + e.message);\n      }\n    },\n\n    logOut({ commit }) {\n      console.log('LogOut action called');\n      commit('setUser', '');\n    },\n  },\n  modules: {},\n});\n"]}]}
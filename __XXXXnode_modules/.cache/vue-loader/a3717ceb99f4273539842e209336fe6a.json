{"remainingRequest":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/src/views/Device.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/src/views/Device.vue","mtime":1653715853061},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUaXRsZSBmcm9tICdAL2NvbXBvbmVudHMvVGl0bGUnOwppbXBvcnQgTG9hZGluZyBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBBbGVydCBmcm9tICdAL2NvbXBvbmVudHMvQWxlcnQnOwppbXBvcnQgdXRpbHMgZnJvbSAnQC9wbHVnaW5zL3V0aWxzJzsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IE1hcGJveCBmcm9tICdtYXBib3gtZ2wnOwppbXBvcnQgeyBNZ2xNYXAsIE1nbE1hcmtlciB9IGZyb20gJ3Z1ZS1tYXBib3gnOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXJnYW5kbzogZmFsc2UsCiAgICAgIHNlYXJjaDogJycsCiAgICAgIHZhbGlkOiB0cnVlLAogICAgICBzaG93OiBmYWxzZSwKICAgICAgZWRpY2lvbjogZmFsc2UsCiAgICAgIGRhdGFEZXZpY2U6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBkZXNjcmlwY3Rpb246ICcnLAogICAgICAgIGxhYmVsOiAnJywKICAgICAgICB1c2U6ICcnLAogICAgICAgIHRlY2hub2xvZ3k6ICcnLAogICAgICB9LAogICAgICAvLyBuYW1lOiAnJywgPz8/PwogICAgICBteUFsZXJ0OiB7CiAgICAgICAgZW5hYmxlOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgdGV4dDogJycsCiAgICAgIH0sCiAgICAgIC8vIEZvcm0gZmllbGRzCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICAgIGVkaXRlZEluZGV4OiAtMSwKICAgICAgZWRpdGVkSXRlbTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHVuaXQ6ICcnLAogICAgICAgIHN5bWJvbDogJycsCiAgICAgIH0sCiAgICAgIGRlZmF1bHRJdGVtOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdW5pdDogJycsCiAgICAgICAgc3ltYm9sOiAnJywKICAgICAgfSwKICAgICAgdGVjbm9Gb3JtOiAnJywKICAgICAgLy8gUnVsZXMgZnJvbQogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFsodikgPT4gISF2IHx8ICdFbCBjYW1wbyBlcyByZXF1ZXJpZG8nXSwKICAgICAgICB1bml0OiBbKHYpID0+ICEhdiB8fCAnRWwgY2FtcG8gZXMgcmVxdWVyaWRvJ10sCiAgICAgICAgc3ltYm9sOiBbKHYpID0+ICEhdiB8fCAnRWwgY2FtcG8gZXMgcmVxdWVyaWRvJ10sCiAgICAgIH0sCiAgICAgIGlzRm9ybVZhbGlkOiBmYWxzZSwKCiAgICAgIC8vIE1hcEJveCBzZXR0aW5ncwogICAgICBhY2Nlc3NUb2tlbjogcHJvY2Vzcy5lbnYuVlVFX0FQUF9NQVBCT1hfVE9LRU4sCiAgICAgIG1hcFN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9saWdodC12MTAnLAogICAgICBjb29yZGluYXRlczogWzIuOTg2MjkxODczMzc5NjQ4NiwgMzkuNTczODA2NDAzMzUyNTddLAogICAgICBjb29yZGluYXRlMjogWzEuOTg2MjkxODczMzc5NjQ4NiwgMzkuNTczNDAzMzUyNTddLAoKICAgICAgLy8nbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMScsCiAgICB9OwogIH0sCiAgcHJvcHM6IFsnbG9hZGluZycsICd0aXRsZScsICdwYXRoJ10sCiAgY29tcG9uZW50czogewogICAgVGl0bGUsCiAgICBMb2FkaW5nLAogICAgQWxlcnQsCiAgICBNZ2xNYXAsCiAgICBNZ2xNYXJrZXIsCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWyd1c2VycycsICdwcm9qZWN0cycsICdkZXZpY2VzJ10pLAoKICAgIGZvcm1UaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gJ051ZXZvIFNlbnNvcicgOiAnRWRpdGFyIFNlbnNvcic7CiAgICB9LAoKICAgIGhlYWRlcnMoKSB7CiAgICAgIHJldHVybiBbCiAgICAgICAgeyB0ZXh0OiAnTm9tYnJlJywgdmFsdWU6ICduYW1lJywgc29ydGFibGU6IHRydWUgfSwKICAgICAgICB7IHRleHQ6ICdVbmlkYWQnLCB2YWx1ZTogJ3VuaXQnIH0sCiAgICAgICAgeyB0ZXh0OiAnU8OtbWJvbG8nLCB2YWx1ZTogJ3N5bWJvbCcgfSwKICAgICAgICB7IHRleHQ6ICdBY2Npb25lcycsIHZhbHVlOiAnYWN0aW9uJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgIF07CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZmlsdGVyT25seUNhcHNUZXh0KHZhbHVlLCBzZWFyY2gsIGl0ZW0pIHsKICAgICAgcmV0dXJuICgKICAgICAgICB2YWx1ZSAhPSBudWxsICYmCiAgICAgICAgc2VhcmNoICE9IG51bGwgJiYKICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmCiAgICAgICAgdmFsdWUudG9TdHJpbmcoKS50b0xvY2FsZVVwcGVyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoKSAhPT0gLTEKICAgICAgKTsKICAgIH0sCgogICAgd2F0Y2hJdGVtKHNlbnNvcikgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZGF0YS9zZWxlY3RTZW5zb3InLCBzZW5zb3IpOwogICAgfSwKCiAgICBlZGl0SXRlbShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLmRldmljZXMuZGV2aWNlU2VsZWN0ZWQuc2Vuc29ycy5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKCiAgICBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuZGV2aWNlcy5kZXZpY2VTZWxlY3RlZC5zZW5zb3JzLmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWU7CiAgICB9LAoKICAgIC8vIFRPRE8gdXBkYXRlU2Vuc29yCiAgICBhc3luYyB1cGRhdGVJdGVtKHBhcmFtcykgewogICAgICB0cnkgewogICAgICAgIGNvbnNvbGUubG9nKCd1cGRhdGVJdGVtOiAnLCBwYXJhbXMpOwogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdkZXZpY2VzL3VwZGF0ZURldmljZScsIHBhcmFtcyk7CiAgICAgICAgdXRpbHMuYWxlcnQoCiAgICAgICAgICB0aGlzLm15QWxlcnQsCiAgICAgICAgICAnc3VjY2VzcycsCiAgICAgICAgICB1dGlscy5tZXNzYWdlcy5ERVZJQ0VfVVBEQVRFX1NVQ0NFU1MKICAgICAgICApOwogICAgICAgIC8vY29uc29sZS5sb2coJ1JFU1AgdXBkYXRlSXRlbTogJywgcmVzLnN0YXR1cyk7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIHV0aWxzLmFsZXJ0KHRoaXMubXlBbGVydCwgJ2Vycm9yJywgdXRpbHMubWVzc2FnZXMuREVWSUNFX1VQREFURV9FUlJPUik7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgZGVsZXRlSXRlbUNvbmZpcm0oKSB7CiAgICAgIHRoaXMuY2FyZ2FuZG8gPSB0cnVlOwogICAgICBsZXQgcGFyYW1zID0gW3RoaXMudXNlcnMudXNlci50b2tlbl07CiAgICAgIHBhcmFtcy5wdXNoKHRoaXMucHJvamVjdHMucHJvamVjdFNlbGVjdGVkLl9pZCk7CiAgICAgIHBhcmFtcy5wdXNoKHRoaXMucHJvamVjdHMuZ3JvdXBTZWxlY3RlZC5faWQpOwogICAgICBsZXQgc2xpc3QgPSB0aGlzLmRldmljZXMuZGV2aWNlU2VsZWN0ZWQuc2Vuc29ycy5maWx0ZXIoKGVsZW0pID0+IHsKICAgICAgICByZXR1cm4gZWxlbS5faWQgIT09IHRoaXMuZWRpdGVkSXRlbS5faWQ7CiAgICAgIH0pOwogICAgICBsZXQgYm9keSA9IHsKICAgICAgICBzZW5zb3JzOiBzbGlzdCwKICAgICAgfTsKICAgICAgcGFyYW1zLnB1c2goYm9keSk7CiAgICAgIHBhcmFtcy5wdXNoKHRoaXMuZGV2aWNlcy5kZXZpY2VTZWxlY3RlZC5faWQpOwogICAgICBhd2FpdCB0aGlzLnVwZGF0ZUl0ZW0ocGFyYW1zKTsKICAgICAgYXdhaXQgdGhpcy5sb2FkU2Vuc29ycygpOwogICAgICB0aGlzLmNhcmdhbmRvID0gZmFsc2U7CiAgICAgIHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0sCgogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKTsKICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKCiAgICBjbG9zZURlbGV0ZSgpIHsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pOwogICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAtMTsKICAgICAgfSk7CiAgICB9LAoKICAgIGFzeW5jIHNhdmUoKSB7CiAgICAgIHRoaXMuY2FyZ2FuZG8gPSB0cnVlOwogICAgICBsZXQgcGFyYW1zID0gW3RoaXMudXNlcnMudXNlci50b2tlbl07CiAgICAgIHBhcmFtcy5wdXNoKHRoaXMucHJvamVjdHMucHJvamVjdFNlbGVjdGVkLl9pZCk7CiAgICAgIHBhcmFtcy5wdXNoKHRoaXMucHJvamVjdHMuZ3JvdXBTZWxlY3RlZC5faWQpOwogICAgICBsZXQgbnNlbkxpc3QgPSBbXTsKICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPT09IC0xKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1tJTkZPXSAtIENyZWF0aW5nIGEgbmV3IHNlbnNvcicpOwogICAgICAgIG5zZW5MaXN0ID0gdGhpcy5hZGRTZW5zb3IoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygnW0lORk9dIC0gTW9kaWZ5aW5nIGEgc2Vuc29yJyk7CiAgICAgICAgbnNlbkxpc3QgPSB0aGlzLnVwZGF0ZVNlbnNvckxpc3QoKTsKICAgICAgfQogICAgICBsZXQgYm9keSA9IHsKICAgICAgICBzZW5zb3JzOiBuc2VuTGlzdCwKICAgICAgfTsKICAgICAgcGFyYW1zLnB1c2goYm9keSk7CiAgICAgIHBhcmFtcy5wdXNoKHRoaXMuZGV2aWNlcy5kZXZpY2VTZWxlY3RlZC5faWQpOwogICAgICBhd2FpdCB0aGlzLnVwZGF0ZUl0ZW0ocGFyYW1zKTsKICAgICAgYXdhaXQgdGhpcy5sb2FkU2Vuc29ycygpOwogICAgICB0aGlzLmNhcmdhbmRvID0gZmFsc2U7CiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0sCgogICAgYWRkU2Vuc29yKCkgewogICAgICBsZXQgc2xpc3QgPSB0aGlzLmRldmljZXMuZGV2aWNlU2VsZWN0ZWQuc2Vuc29yczsKICAgICAgaWYgKHNsaXN0ICYmIHNsaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICBzbGlzdC5wdXNoKHRoaXMuZWRpdGVkSXRlbSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gTGlzdCBlbXB0eSwgZmlydHMgc2Vuc29yIGluIGxpc3QKICAgICAgICBzbGlzdCA9IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogdGhpcy5lZGl0ZWRJdGVtLm5hbWUsCiAgICAgICAgICAgIHVuaXQ6IHRoaXMuZWRpdGVkSXRlbS51bml0LAogICAgICAgICAgICBzeW1ib2w6IHRoaXMuZWRpdGVkSXRlbS5zeW1ib2wsCiAgICAgICAgICB9LAogICAgICAgIF07CiAgICAgIH0KICAgICAgcmV0dXJuIHNsaXN0OwogICAgfSwKCiAgICB1cGRhdGVTZW5zb3JMaXN0KCkgewogICAgICBsZXQgc2xpc3QgPSB0aGlzLmRldmljZXMuZGV2aWNlU2VsZWN0ZWQuc2Vuc29yczsKICAgICAgc2xpc3QuZmluZCgoaXRlbSkgPT4gewogICAgICAgIGlmIChpdGVtLl9pZCA9PT0gdGhpcy5lZGl0ZWRJdGVtLl9pZCkgewogICAgICAgICAgaXRlbS5uYW1lID0gdGhpcy5lZGl0ZWRJdGVtLm5hbWU7CiAgICAgICAgICBpdGVtLnVuaXQgPSB0aGlzLmVkaXRlZEl0ZW0udW5pdDsKICAgICAgICAgIGl0ZW0uc3ltYm9sID0gdGhpcy5lZGl0ZWRJdGVtLnN5bWJvbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gc2xpc3Q7CiAgICB9LAoKICAgIGFzeW5jIGxvYWRTZW5zb3JzKCkgewogICAgICBsZXQgcGFyYW1zID0gW3RoaXMudXNlcnMudXNlci50b2tlbl07CiAgICAgIGNvbnN0IGlkUHJvID0gdGhpcy5kZXZpY2VzLmRldmljZVNlbGVjdGVkLnByb2plY3QuX2lkOwogICAgICBjb25zdCBpZEdycCA9IHRoaXMuZGV2aWNlcy5kZXZpY2VTZWxlY3RlZC5ncm91cC5faWQKICAgICAgICA/IHRoaXMuZGV2aWNlcy5kZXZpY2VTZWxlY3RlZC5ncm91cC5faWQKICAgICAgICA6IHRoaXMuZGV2aWNlcy5kZXZpY2VTZWxlY3RlZC5ncm91cDsKCiAgICAgIGNvbnN0IGlkRGV2ID0gdGhpcy4kcm91dGUucGFyYW1zLmlkRGV2aWNlOwogICAgICBwYXJhbXMucHVzaChpZFBybyk7CiAgICAgIHBhcmFtcy5wdXNoKGlkR3JwKTsKICAgICAgcGFyYW1zLnB1c2goaWREZXYpOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdkZXZpY2VzL2dldERldmljZScsIHBhcmFtcyk7CiAgICAgICAgcmV0dXJuIHJlczsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coJ0ZhbGxvIGFsIGNhcmdhIGVsIGRpc3Bvc2l0aXZvOiAnLCBlcnIpOwogICAgICB9CiAgICB9LAoKICAgIGxvYWRDb3JkaW5hdGVzKCkgewogICAgICBjb25zdCBkZWZDb29yID0gWzIuOTg2MjkxODczMzc5NjQ4NiwgMzkuNTczODA2NDAzMzUyNTddOwogICAgICB0aGlzLmNvb3JkaW5hdGVzID0gZGVmQ29vcjsKICAgICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLmRldmljZXMuZGV2aWNlU2VsZWN0ZWQubG9jYXRpb247CgogICAgICBpZiAoCiAgICAgICAgbG9jYXRpb24gJiYKICAgICAgICBsb2NhdGlvbi5jb29yZGluYXRlcyAmJgogICAgICAgIGxvY2F0aW9uLmNvb3JkaW5hdGVzLmxlbmd0aCA9PT0gMgogICAgICApIHsKICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gbG9jYXRpb24uY29vcmRpbmF0ZXM7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgb25NYXBMb2FkKGV2ZW50KSB7CiAgICAgIGNvbnN0IGFzeW5jQWN0aW9ucyA9IGV2ZW50LmNvbXBvbmVudC5hY3Rpb25zOwoKICAgICAgY29uc3QgbmV3UGFyYW1zID0gYXdhaXQgYXN5bmNBY3Rpb25zLmZseVRvKHsKICAgICAgICBjZW50ZXI6IHRoaXMuY29vcmRpbmF0ZXMsCiAgICAgICAgem9vbTogOCwKICAgICAgICBzcGVlZDogMSwKICAgICAgfSk7CiAgICB9LAogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGNvbnN0IHJzID0gYXdhaXQgdGhpcy5sb2FkU2Vuc29ycygpOwogICAgdGhpcy5sb2FkQ29yZGluYXRlcygpOwogICAgdGhpcy5tYXBib3ggPSBNYXBib3g7CiAgfSwKfTsK"},{"version":3,"sources":["Device.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsTA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Device.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"mt-2\">\n    <Alert\n      :show=\"myAlert.enable\"\n      :type=\"myAlert.type\"\n      :text=\"myAlert.text\"\n    ></Alert>\n    <Loading :loading=\"cargando\"></Loading>\n    <Title\n      :title=\"'Dispositivo'\"\n      :color=\"'secondary--text'\"\n      :path=\"`Home / dispositivos / ${this.devices.deviceSelected._id}`\"\n    ></Title>\n\n    <v-card class=\"pa-5 mb-2\" outlined tile>\n      <v-row>\n        <v-col cols=\"12\" md=\"6\">\n          <v-row class=\"pa-2 mr-4\">\n            <v-card-text\n              class=\"secondary--text font-weight-light\"\n              background-color=\"light-blue\"\n            >\n              Nombre\n            </v-card-text>\n\n            <v-card\n              class=\"d-flex flex-row ml-5 align-center\"\n              color=\"suave\"\n              flat\n              height=\"50\"\n              tile\n            >\n              <span class=\"ml-2\">{{ devices.deviceSelected.name }}</span>\n            </v-card>\n            <v-card-text\n              class=\"secondary--text font-weight-light\"\n              background-color=\"light-blue\"\n            >\n              Descripción\n            </v-card-text>\n\n            <v-card\n              class=\"d-flex flex-row ml-5 align-center\"\n              color=\"suave\"\n              flat\n              height=\"50\"\n              tile\n            >\n              <span class=\"ml-2\">{{ devices.deviceSelected.description }}</span>\n            </v-card>\n            <v-card-text\n              class=\"secondary--text font-weight-light\"\n              background-color=\"light-blue\"\n            >\n              Uso\n            </v-card-text>\n\n            <v-card\n              class=\"d-flex flex-row ml-5 align-center\"\n              color=\"suave\"\n              flat\n              height=\"50\"\n              tile\n            >\n              <span class=\"ml-2\">{{ devices.deviceSelected.use }}</span>\n            </v-card>\n          </v-row>\n          <v-row>\n            <v-col cols=\"6\" sm=\"4\">\n              <v-card-text\n                class=\"secondary--text font-weight-light\"\n                background-color=\"light-blue\"\n              >\n                Etiqueta\n              </v-card-text>\n\n              <v-card\n                class=\"d-flex flex-row ml-5 align-center\"\n                color=\"suave\"\n                flat\n                height=\"50\"\n                width=\"95%\"\n                tile\n              >\n                <span class=\"ml-2\">{{ devices.deviceSelected.label }}</span>\n              </v-card>\n            </v-col>\n            <v-col cols=\"6\" sm=\"4\">\n              <v-card-text\n                class=\"secondary--text font-weight-light\"\n                background-color=\"light-blue\"\n              >\n                Tecnología\n              </v-card-text>\n\n              <v-card\n                class=\"d-flex flex-row ml-5 align-center\"\n                color=\"suave\"\n                flat\n                height=\"50\"\n                tile\n              >\n                <span class=\"ml-2\">{{\n                  devices.deviceSelected.technology\n                }}</span>\n              </v-card>\n            </v-col>\n            <v-col cols=\"6\" sm=\"4\">\n              <v-card-text\n                class=\"secondary--text font-weight-light\"\n                background-color=\"light-blue\"\n              >\n                Última entrada\n              </v-card-text>\n\n              <v-card\n                class=\"d-flex flex-row ml-5 align-center\"\n                color=\"suave\"\n                flat\n                height=\"50\"\n                tile\n              >\n                <span class=\"ml-2\">{{\n                  devices.deviceSelected.lastEntry\n                }}</span>\n              </v-card>\n            </v-col>\n          </v-row>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"6\">\n          <v-card\n            class=\"d-flex flex-row ml-5 mt-10 align-center justify-center\"\n            color=\"suave\"\n            flat\n            height=\"400\"\n            width=\"95%\"\n          >\n            <MglMap\n              :accessToken=\"accessToken\"\n              :mapStyle=\"mapStyle\"\n              :center=\"coordinates\"\n              @load=\"onMapLoad\"\n            >\n              <MglMarker :coordinates.sync=\"coordinates\" color=\"blue\" />\n            </MglMap>\n            <!--v-icon color=\"secondary\" size=\"200\"> fas fa-image </!--v-icon-->\n          </v-card>\n        </v-col>\n      </v-row>\n\n      <v-row>\n        <v-col>\n          <v-card-title>\n            <v-text-field\n              v-model=\"search\"\n              append-icon=\"mdi-magnify\"\n              label=\"Buscar (Mayúsculas)\"\n              single-line\n              hide-details\n              class=\"mx-4\"\n            >\n            </v-text-field>\n          </v-card-title>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"devices.deviceSelected.sensors\"\n            class=\"pa-5\"\n            :search=\"search\"\n            :custom-filter=\"filterOnlyCapsText\"\n          >\n            <template v-slot:top>\n              <v-toolbar flat>\n                <v-divider class=\"mx-4\" inset vertical></v-divider>\n                <v-spacer></v-spacer>\n                <v-dialog v-model=\"dialog\" max-width=\"500px\">\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-btn\n                      color=\"primary\"\n                      dark\n                      elevation=\"8\"\n                      fab\n                      class=\"mb-2\"\n                      v-bind=\"attrs\"\n                      v-on=\"on\"\n                    >\n                      <v-icon>fas fa-plus</v-icon>\n                    </v-btn>\n                  </template>\n                  <v-form v-model=\"isFormValid\">\n                    <v-card>\n                      <v-card-title>\n                        <span class=\"text-h5\">{{ formTitle }}</span>\n                      </v-card-title>\n\n                      <v-card-text>\n                        <v-container>\n                          <v-row>\n                            <v-col cols=\"12\">\n                              <v-text-field\n                                v-model=\"editedItem.name\"\n                                label=\"Nombre\"\n                                :rules=\"rules.name\"\n                              ></v-text-field>\n                            </v-col>\n                          </v-row>\n                          <v-row>\n                            <v-col cols=\"12\" sm=\"6\" md=\"12\">\n                              <v-text-field\n                                v-model=\"editedItem.unit\"\n                                label=\"Unidad\"\n                                :rules=\"rules.description\"\n                                :counter=\"true\"\n                              ></v-text-field>\n                            </v-col>\n                          </v-row>\n                          <v-row>\n                            <v-col cols=\"12\" sm=\"6\" md=\"12\">\n                              <v-text-field\n                                v-model=\"editedItem.symbol\"\n                                label=\"Símbolo\"\n                                :rules=\"rules.label\"\n                                :counter=\"true\"\n                              ></v-text-field>\n                            </v-col>\n                          </v-row>\n                        </v-container>\n                      </v-card-text>\n\n                      <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn color=\"blue darken-1\" text @click=\"close\">\n                          Cancel\n                        </v-btn>\n                        <v-btn\n                          color=\"blue darken-1\"\n                          text\n                          @click=\"save\"\n                          :disabled=\"!isFormValid\"\n                        >\n                          Save\n                        </v-btn>\n                      </v-card-actions>\n                    </v-card>\n                  </v-form>\n                </v-dialog>\n                <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n                  <v-card>\n                    <v-card-title class=\"text-h5\"\n                      >¿Estás seguro de eliminar este elemento?</v-card-title\n                    >\n                    <v-card-actions>\n                      <v-spacer></v-spacer>\n                      <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                        >Cancel</v-btn\n                      >\n                      <v-btn\n                        color=\"blue darken-1\"\n                        text\n                        @click=\"deleteItemConfirm\"\n                        >OK</v-btn\n                      >\n                      <v-spacer></v-spacer>\n                    </v-card-actions>\n                  </v-card>\n                </v-dialog>\n              </v-toolbar>\n            </template>\n\n            <template v-slot:item.action=\"{ item }\">\n              <router-link\n                :to=\"{ name: 'Data', params: { idSensor: item._id } }\"\n                style=\"text-decoration: none; color: inherit\"\n              >\n                <v-icon\n                  small\n                  class=\"mr-2\"\n                  color=\"primary\"\n                  @click=\"watchItem(item)\"\n                  title=\"Consultar\"\n                >\n                  fas fa-search\n                </v-icon>\n              </router-link>\n              <v-icon\n                small\n                class=\"mr-2\"\n                color=\"warning\"\n                @click=\"editItem(item)\"\n                title=\"Editar\"\n              >\n                fas fa-pencil-alt\n              </v-icon>\n              <v-icon\n                small\n                color=\"error\"\n                @click=\"deleteItem(item)\"\n                title=\"Eliminar\"\n              >\n                fas fa-trash\n              </v-icon>\n            </template>\n          </v-data-table>\n        </v-col>\n      </v-row>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport Title from '@/components/Title';\nimport Loading from '@/components/Loading';\nimport Alert from '@/components/Alert';\nimport utils from '@/plugins/utils';\nimport { mapState, mapActions } from 'vuex';\nimport Mapbox from 'mapbox-gl';\nimport { MglMap, MglMarker } from 'vue-mapbox';\n\nexport default {\n  data() {\n    return {\n      cargando: false,\n      search: '',\n      valid: true,\n      show: false,\n      edicion: false,\n      dataDevice: {\n        name: '',\n        descripction: '',\n        label: '',\n        use: '',\n        technology: '',\n      },\n      // name: '', ????\n      myAlert: {\n        enable: false,\n        type: 'success',\n        text: '',\n      },\n      // Form fields\n      dialog: false,\n      dialogDelete: false,\n      editedIndex: -1,\n      editedItem: {\n        name: '',\n        unit: '',\n        symbol: '',\n      },\n      defaultItem: {\n        name: '',\n        unit: '',\n        symbol: '',\n      },\n      tecnoForm: '',\n      // Rules from\n      rules: {\n        name: [(v) => !!v || 'El campo es requerido'],\n        unit: [(v) => !!v || 'El campo es requerido'],\n        symbol: [(v) => !!v || 'El campo es requerido'],\n      },\n      isFormValid: false,\n\n      // MapBox settings\n      accessToken: process.env.VUE_APP_MAPBOX_TOKEN,\n      mapStyle: 'mapbox://styles/mapbox/light-v10',\n      coordinates: [2.9862918733796486, 39.57380640335257],\n      coordinate2: [1.9862918733796486, 39.57340335257],\n\n      //'mapbox://styles/mapbox/streets-v11',\n    };\n  },\n  props: ['loading', 'title', 'path'],\n  components: {\n    Title,\n    Loading,\n    Alert,\n    MglMap,\n    MglMarker,\n  },\n  computed: {\n    ...mapState(['users', 'projects', 'devices']),\n\n    formTitle() {\n      return this.editedIndex === -1 ? 'Nuevo Sensor' : 'Editar Sensor';\n    },\n\n    headers() {\n      return [\n        { text: 'Nombre', value: 'name', sortable: true },\n        { text: 'Unidad', value: 'unit' },\n        { text: 'Símbolo', value: 'symbol' },\n        { text: 'Acciones', value: 'action', sortable: false },\n      ];\n    },\n  },\n  methods: {\n    filterOnlyCapsText(value, search, item) {\n      return (\n        value != null &&\n        search != null &&\n        typeof value === 'string' &&\n        value.toString().toLocaleUpperCase().indexOf(search) !== -1\n      );\n    },\n\n    watchItem(sensor) {\n      this.$store.dispatch('data/selectSensor', sensor);\n    },\n\n    editItem(item) {\n      this.editedIndex = this.devices.deviceSelected.sensors.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog = true;\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.devices.deviceSelected.sensors.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    },\n\n    // TODO updateSensor\n    async updateItem(params) {\n      try {\n        console.log('updateItem: ', params);\n        const res = await this.$store.dispatch('devices/updateDevice', params);\n        utils.alert(\n          this.myAlert,\n          'success',\n          utils.messages.DEVICE_UPDATE_SUCCESS\n        );\n        //console.log('RESP updateItem: ', res.status);\n      } catch (err) {\n        utils.alert(this.myAlert, 'error', utils.messages.DEVICE_UPDATE_ERROR);\n      }\n    },\n\n    async deleteItemConfirm() {\n      this.cargando = true;\n      let params = [this.users.user.token];\n      params.push(this.projects.projectSelected._id);\n      params.push(this.projects.groupSelected._id);\n      let slist = this.devices.deviceSelected.sensors.filter((elem) => {\n        return elem._id !== this.editedItem._id;\n      });\n      let body = {\n        sensors: slist,\n      };\n      params.push(body);\n      params.push(this.devices.deviceSelected._id);\n      await this.updateItem(params);\n      await this.loadSensors();\n      this.cargando = false;\n      this.closeDelete();\n    },\n\n    close() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    async save() {\n      this.cargando = true;\n      let params = [this.users.user.token];\n      params.push(this.projects.projectSelected._id);\n      params.push(this.projects.groupSelected._id);\n      let nsenList = [];\n      if (this.editedIndex === -1) {\n        console.log('[INFO] - Creating a new sensor');\n        nsenList = this.addSensor();\n      } else {\n        console.log('[INFO] - Modifying a sensor');\n        nsenList = this.updateSensorList();\n      }\n      let body = {\n        sensors: nsenList,\n      };\n      params.push(body);\n      params.push(this.devices.deviceSelected._id);\n      await this.updateItem(params);\n      await this.loadSensors();\n      this.cargando = false;\n      this.close();\n    },\n\n    addSensor() {\n      let slist = this.devices.deviceSelected.sensors;\n      if (slist && slist.length > 0) {\n        slist.push(this.editedItem);\n      } else {\n        // List empty, firts sensor in list\n        slist = [\n          {\n            name: this.editedItem.name,\n            unit: this.editedItem.unit,\n            symbol: this.editedItem.symbol,\n          },\n        ];\n      }\n      return slist;\n    },\n\n    updateSensorList() {\n      let slist = this.devices.deviceSelected.sensors;\n      slist.find((item) => {\n        if (item._id === this.editedItem._id) {\n          item.name = this.editedItem.name;\n          item.unit = this.editedItem.unit;\n          item.symbol = this.editedItem.symbol;\n        }\n      });\n      return slist;\n    },\n\n    async loadSensors() {\n      let params = [this.users.user.token];\n      const idPro = this.devices.deviceSelected.project._id;\n      const idGrp = this.devices.deviceSelected.group._id\n        ? this.devices.deviceSelected.group._id\n        : this.devices.deviceSelected.group;\n\n      const idDev = this.$route.params.idDevice;\n      params.push(idPro);\n      params.push(idGrp);\n      params.push(idDev);\n      try {\n        const res = await this.$store.dispatch('devices/getDevice', params);\n        return res;\n      } catch (err) {\n        console.log('Fallo al carga el dispositivo: ', err);\n      }\n    },\n\n    loadCordinates() {\n      const defCoor = [2.9862918733796486, 39.57380640335257];\n      this.coordinates = defCoor;\n      const location = this.devices.deviceSelected.location;\n\n      if (\n        location &&\n        location.coordinates &&\n        location.coordinates.length === 2\n      ) {\n        this.coordinates = location.coordinates;\n      }\n    },\n\n    async onMapLoad(event) {\n      const asyncActions = event.component.actions;\n\n      const newParams = await asyncActions.flyTo({\n        center: this.coordinates,\n        zoom: 8,\n        speed: 1,\n      });\n    },\n  },\n  async created() {\n    const rs = await this.loadSensors();\n    this.loadCordinates();\n    this.mapbox = Mapbox;\n  },\n};\n</script>\n\n<style></style>\n"]}]}
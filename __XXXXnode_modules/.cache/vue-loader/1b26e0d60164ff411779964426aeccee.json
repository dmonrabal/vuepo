{"remainingRequest":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/src/views/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/src/views/User.vue","mtime":1648380209832},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/david/Documentos/Formacion/Udemy/VUE.JS/project/vuepo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBbGVydCBmcm9tICdAL2NvbXBvbmVudHMvQWxlcnQnOwppbXBvcnQgTG9hZGluZyBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBUaXRsZSBmcm9tICdAL2NvbXBvbmVudHMvVGl0bGUnOwppbXBvcnQgdXRpbHMgZnJvbSAnQC9wbHVnaW5zL3V0aWxzJzsKCmltcG9ydCB7IGZpcmViYXNlLCBzdG9yYWdlIH0gZnJvbSAnQC9wbHVnaW5zL2ZpcmViYXNlJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbXlVc2VyOiB7fSwKICAgICAgY2FyZ2FuZG86IGZhbHNlLAogICAgICBmaWxlOiBudWxsLAogICAgICB1cmxUZW1wOiAnJywKICAgICAgbXlBbGVydDogewogICAgICAgIGVuYWJsZTogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgIHRleHQ6ICcnLAogICAgICB9LAoKICAgICAgLy8gRm9ybSBmaWVsZHMKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRGb3JtOiAnJywKICAgICAgZWRpdGVkSW5kZXg6IC0xLAogICAgICBlZGl0ZWRJdGVtOiB7CiAgICAgICAgX2lkOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcm9sZTogJycsCiAgICAgIH0sCiAgICAgIGRlZmF1bHRJdGVtOiB7CiAgICAgICAgX2lkOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcm9sZTogJycsCiAgICAgIH0sCgogICAgICAvLyBSdWxlcyBmcm9tCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogWyh2KSA9PiAhIXYgfHwgJ0VsIGNhbXBvIGVzIHJlcXVlcmlkbyddLAogICAgICAgIGVtYWlsOiBbCiAgICAgICAgICAodikgPT4gISF2IHx8ICdFbCBjYW1wbyBlcyByZXF1ZXJpZG8nLAogICAgICAgICAgKHYpID0+CiAgICAgICAgICAgICh2ICYmIHYubGVuZ3RoID49IDE1ICYmIHYubGVuZ3RoIDw9IDMwKSB8fAogICAgICAgICAgICAnRWwgZW1haWwgZGViZSB0ZW5lciBlbnRyZSAxNSB5IDMwIGNhcmFjdGVyZXMnLAogICAgICAgIF0sCiAgICAgICAgcm9sZTogWwogICAgICAgICAgKHYpID0+ICEhdiB8fCAnRWwgcm9sZSBlcyByZXF1ZXJpZG8nLAogICAgICAgICAgKHYpID0+CiAgICAgICAgICAgICh2ICYmIHYubGVuZ3RoID49IDMgJiYgdi5sZW5ndGggPD0gMTUpIHx8CiAgICAgICAgICAgICdFbCByb2xlIGRlYmUgY29udGVuZXIgZW50cmUgMyB5IDE1IGNhcmFjdGVyZXMnLAogICAgICAgIF0sCiAgICAgIH0sCiAgICAgIGlzRm9ybVZhbGlkOiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBbGVydCwKICAgIExvYWRpbmcsCiAgICBUaXRsZSwKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWyd1c2VycyddKSwKICB9LAogIHdhdGNoOiB7CiAgICBkaWFsb2codmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgbG9hZFVTZXIoKSB7CiAgICAgIHRoaXMubXlVc2VyID0gdGhpcy51c2Vycy51c2VyOwogICAgfSwKCiAgICBlZGl0SXRlbSgpIHsKICAgICAgdGhpcy5lZGl0ZWRJdGVtLl9pZCA9IHRoaXMudXNlcnMudXNlci5faWQ7CiAgICAgIHRoaXMuZWRpdGVkSXRlbS5uYW1lID0gdGhpcy51c2Vycy51c2VyLm5hbWU7CiAgICAgIHRoaXMuZWRpdGVkSXRlbS5lbWFpbCA9IHRoaXMudXNlcnMudXNlci5lbWFpbDsKICAgICAgdGhpcy5lZGl0ZWRJdGVtLnJvbGUgPSB0aGlzLnVzZXJzLnVzZXIucm9sZTsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKCiAgICBjbG9zZSgpIHsKICAgICAgY29uc29sZS5sb2coJ0NlcnJhbmRvIC0tLS0tPiAnKTsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pOwogICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAtMTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNhdmUoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdHcmFiYW5kbyAtLS0tLT4gJywgdGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgdGhpcy5jYXJnYW5kbyA9IGZhbHNlOwogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICBjb25zdCBwYXJhbXMgPSBbdGhpcy51c2Vycy51c2VyLnRva2VuXTsKICAgICAgcGFyYW1zLnB1c2goe25hbWU6IHRoaXMuZWRpdGVkSXRlbS5uYW1lLCBlbWFpbDogdGhpcy5lZGl0ZWRJdGVtLmVtYWlsLCBwaG90bzogdGhpcy51c2Vycy51c2VyLnBob3RvfSk7CiAgICAgIHRoaXMudXBkYXRlSXRlbShwYXJhbXMpOwogICAgICB0aGlzLmxvYWRVU2VyKCk7CiAgICAgIHRoaXMuY2FyZ2FuZG8gPSBmYWxzZTsKICAgIH0sCgogICAgYXN5bmMgdXBkYXRlSXRlbSAocGFyYW1zKSB7CiAgICAgIHRyeSB7IAogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2Vycy91cGRhdGVVc2VyJywgcGFyYW1zKTsKICAgICAgICB1dGlscy5hbGVydCgKICAgICAgICAgIHRoaXMubXlBbGVydCwKICAgICAgICAgICdzdWNjZXNzJywKICAgICAgICAgIHV0aWxzLm1lc3NhZ2VzLlVTRVJfVVBEQVRFX1NVQ0NFU1MKICAgICAgICApOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICB1dGlscy5hbGVydCh0aGlzLm15QWxlcnQsICdlcnJvcicsIHV0aWxzLm1lc3NhZ2VzLlVTRVJfVVBEQVRFX0VSUk9SKTsKICAgICAgfQogICAgfSwKCiAgICBzZWFyY2hJbWFnZShldmVudCkgewogICAgICBjb25zb2xlLmxvZyhldmVudC50YXJnZXQuZmlsZXNbMF0pOwogICAgICB0aGlzLmZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CgogICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTCh0aGlzLmZpbGUpOwogICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHsKICAgICAgICAvL2NvbnNvbGUubG9nKGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgdGhpcy51cmxUZW1wID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgIHRoaXMudXNlcnMudXNlci5waG90byA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyB1cGxvYWRJbWFnZSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZWZJbWcgPSBzdG9yYWdlLnJlZigpLmNoaWxkKHRoaXMubXlVc2VyLmVtYWlsKS5jaGlsZCgnZm90b1BlcmZpbCcpOwogICAgICAgIC8vY29uc3QgcmVmSW1nID0gc3RvcmFnZS5yZWYoKS5jaGlsZCgncHJ1ZWJhJykuY2hpbGQoJ2ZvdG9QZXJmaWwnKTsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCByZWZJbWcucHV0KHRoaXMuZmlsZSk7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBjb25zdCB1cmxEZXNjYXJnYSA9IGF3YWl0IHJlZkltZy5nZXREb3dubG9hZFVSTCgpOwogICAgICAgIGNvbnNvbGUubG9nKHVybERlc2NhcmdhKTsKICAgICAgICAKICAgICAgICBjb25zdCBwYXJhbXMgPSBbdGhpcy51c2Vycy51c2VyLnRva2VuXTsKICAgICAgICBwYXJhbXMucHVzaCh7cGhvdG86IHVybERlc2NhcmdhfSk7CiAgICAgICAgdGhpcy51cGRhdGVJdGVtKHBhcmFtcyk7CiAgICAgICAgCiAgICAgICAgdGhpcy51c2Vycy51c2VyLnBob3RvID0gdXJsRGVzY2FyZ2E7CiAgICAgICAgdGhpcy51cmxUZW1wID0gbnVsbDsKICAgICAgICB0aGlzLmZpbGUgPSBudWxsOwogICAgICAgIHV0aWxzLmFsZXJ0KHRoaXMubXlBbGVydCwgJ3N1Y2Nlc3MnLCB1dGlscy5tZXNzYWdlcy5VU0VSX0lNR1VQRF9TVUNDRVNTKTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB1dGlscy5hbGVydCh0aGlzLm15QWxlcnQsICdlcnJvcicsIHV0aWxzLm1lc3NhZ2VzLlVTRVJfSU1HVVBEX0VSUk9SKTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZFVTZXIoKTsKICB9LAp9Owo="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"mt-2\">\n    <Alert\n      :show=\"myAlert.enable\"\n      :type=\"myAlert.type\"\n      :text=\"myAlert.text\"\n    ></Alert>\n    <Loading :loading=\"cargando\"></Loading>\n    <Title\n      :title=\"'Usuario'\"\n      :color=\"'secondary--text'\"\n      :path=\"'Home / usuario'\"\n    ></Title>\n      <v-dialog v-model=\"dialog\" max-width=\"500px\">\n       <v-form v-model=\"isFormValid\">\n          <v-card>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"editedItem.name\"\n                      label=\"Nombre\"\n                      :rules=\"rules.name\"\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col cols=\"12\" sm=\"6\" md=\"12\">\n                    <v-text-field\n                      v-model=\"editedItem.email\"\n                      label=\"Email\"\n                      :rules=\"rules.email\"\n                      :counter=\"true\"\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col cols=\"12\" sm=\"6\" md=\"12\">\n                    <v-text-field\n                      v-model=\"editedItem.role\"\n                      label=\"Rol\"\n                      disabled\n                      :rules=\"rules.role\"\n                      :counter=\"true\"\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"close\"> Cancel </v-btn>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"save\"\n                :disabled=\"!isFormValid\"\n              >\n                Save\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-form>\n      </v-dialog>\n    <v-card class=\"mx-auto ma-0 pa-0 mt-15\" outlined tile width=\"60%\">\n      <v-row class=\"ma-0 pa-0\">\n        <v-col\n          cols=\"12\"\n          lg=\"3\"\n          style=\"background-color: teal\"\n          class=\"d-flex align-start flex-column justify-center align-center wrap\"\n        >\n          <v-row class=\"mt-5 align-center\">\n          <v-avatar size=\"160\">\n            <!--img src=\"https://randomuser.me/api/portraits/men/85.jpg\" alt=\"John\" v-if=\"!users.user.photo\"/-->\n            <img v-if=\"urlTemp\" :src=\"urlTemp\" alt=\"photo\" />\n            <img v-else :src=\"users.user.photo\" alt=\"photo\"/>\n          </v-avatar>\n          </v-row> \n           <v-row class=\"align-start mb-5 mt-5\">\n            <input type=\"file\" ref=\"bimagen\" class=\"d-none\" @change=\"searchImage($event)\">\n            <v-btn\n                color=\"pink\"\n                dark\n                elevation=\"8\"\n                fab\n                title=\"Buscar imagen\"\n                @click=\"$refs.bimagen.click()\">\n                \n                <v-icon>fas fa-image</v-icon>\n              </v-btn> \n              <v-btn\n                color=\"secondary\"\n                dark\n                elevation=\"8\"\n                fab\n                class=\"ml-3\"\n                title=\"Subir imagen\"\n                :disabled=\"file === null || urlTemp === null\"\n                @click=\"uploadImage()\">\n                \n                <v-icon>fas fa-upload</v-icon>\n              </v-btn> \n          </v-row>\n        </v-col>\n        <v-col lg=\"9\" class=\"mb-5\">\n          <v-card-text\n            class=\"secondary--text font-weight-light\"\n            background-color=\"light-blue\"\n          >\n            Nombre\n          </v-card-text>\n\n          <v-card\n            class=\"d-flex flex-row ml-3 align-center\"\n            color=\"suave\"\n            flat\n            width=\"90%\"\n            height=\"50\"\n            tile\n          >\n            <span class=\"ml-2\"> {{ this.users.user.name }}</span>\n          </v-card>\n\n          <v-card-text\n            class=\"secondary--text font-weight-light\"\n            background-color=\"light-blue\"\n          >\n            Email\n          </v-card-text>\n\n          <v-card\n            class=\"d-flex flex-row ml-3 align-center\"\n            color=\"suave\"\n            flat\n            width=\"90%\"\n            height=\"50\"\n            tile\n          >\n            <span class=\"ml-2\"> {{ this.users.user.email }}</span>\n          </v-card>\n\n          <v-card-text\n            class=\"secondary--text font-weight-light\"\n            background-color=\"light-blue\"\n          >\n            Rol\n          </v-card-text>\n\n          <v-card\n            class=\"d-flex flex-row ml-3 align-center\"\n            color=\"suave\"\n            width=\"90%\"\n            flat\n            height=\"50\"\n            tile\n          >\n            <span class=\"ml-2\"> {{ this.users.user.role }}</span>\n          </v-card>\n              <div class=\"d-flex mt-10 mr-15 flex-row-reverse\">\n                 <v-btn\n                      color=\"primary\"\n                      dark\n                      elevation=\"8\"\n                      fab\n                      class=\"mb-2\"\n                      title=\"Editar\"\n                      @click=\"editItem()\"\n                    >\n                      <v-icon>  fas fa-pencil-alt</v-icon>\n                    </v-btn>\n              </div>          \n            </v-col>\n          </v-row>\n        </v-col>\n      </v-row>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport Alert from '@/components/Alert';\nimport Loading from '@/components/Loading';\nimport Title from '@/components/Title';\nimport utils from '@/plugins/utils';\n\nimport { firebase, storage } from '@/plugins/firebase';\nimport { mapState } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      myUser: {},\n      cargando: false,\n      file: null,\n      urlTemp: '',\n      myAlert: {\n        enable: false,\n        type: 'success',\n        text: '',\n      },\n\n      // Form fields\n      dialog: false,\n      selectedForm: '',\n      editedIndex: -1,\n      editedItem: {\n        _id: '',\n        name: '',\n        email: '',\n        role: '',\n      },\n      defaultItem: {\n        _id: '',\n        name: '',\n        email: '',\n        role: '',\n      },\n\n      // Rules from\n      rules: {\n        name: [(v) => !!v || 'El campo es requerido'],\n        email: [\n          (v) => !!v || 'El campo es requerido',\n          (v) =>\n            (v && v.length >= 15 && v.length <= 30) ||\n            'El email debe tener entre 15 y 30 caracteres',\n        ],\n        role: [\n          (v) => !!v || 'El role es requerido',\n          (v) =>\n            (v && v.length >= 3 && v.length <= 15) ||\n            'El role debe contener entre 3 y 15 caracteres',\n        ],\n      },\n      isFormValid: false,\n    };\n  },\n  components: {\n    Alert,\n    Loading,\n    Title,\n  },\n\n  computed: {\n    ...mapState(['users']),\n  },\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n  },\n  methods: {\n    loadUSer() {\n      this.myUser = this.users.user;\n    },\n\n    editItem() {\n      this.editedItem._id = this.users.user._id;\n      this.editedItem.name = this.users.user.name;\n      this.editedItem.email = this.users.user.email;\n      this.editedItem.role = this.users.user.role;\n      this.dialog = true;\n    },\n\n    close() {\n      console.log('Cerrando -----> ');\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    save() {\n      console.log('Grabando -----> ', this.editedItem);\n      this.cargando = false;\n      this.dialog = false;\n      const params = [this.users.user.token];\n      params.push({name: this.editedItem.name, email: this.editedItem.email, photo: this.users.user.photo});\n      this.updateItem(params);\n      this.loadUSer();\n      this.cargando = false;\n    },\n\n    async updateItem (params) {\n      try { \n        const res = await this.$store.dispatch('users/updateUser', params);\n        utils.alert(\n          this.myAlert,\n          'success',\n          utils.messages.USER_UPDATE_SUCCESS\n        );\n      } catch (err) {\n        utils.alert(this.myAlert, 'error', utils.messages.USER_UPDATE_ERROR);\n      }\n    },\n\n    searchImage(event) {\n      console.log(event.target.files[0]);\n      this.file = event.target.files[0];\n\n      const reader = new FileReader();\n      reader.readAsDataURL(this.file);\n      reader.onload = (e) => {\n        //console.log(e.target.result);\n        this.urlTemp = e.target.result;\n        this.users.user.photo = e.target.result;\n      }\n    },\n\n    async uploadImage() {\n      try {\n        const refImg = storage.ref().child(this.myUser.email).child('fotoPerfil');\n        //const refImg = storage.ref().child('prueba').child('fotoPerfil');\n        const res = await refImg.put(this.file);\n        console.log(res);\n        const urlDescarga = await refImg.getDownloadURL();\n        console.log(urlDescarga);\n        \n        const params = [this.users.user.token];\n        params.push({photo: urlDescarga});\n        this.updateItem(params);\n        \n        this.users.user.photo = urlDescarga;\n        this.urlTemp = null;\n        this.file = null;\n        utils.alert(this.myAlert, 'success', utils.messages.USER_IMGUPD_SUCCESS);\n      } catch (err) {\n        console.log(err);\n        utils.alert(this.myAlert, 'error', utils.messages.USER_IMGUPD_ERROR);\n      }\n    }\n  },\n  created() {\n    this.loadUSer();\n  },\n};\n</script>\n\n<style></style>\n"]}]}